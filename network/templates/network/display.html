{% load static %}
<script type="text/javascript" src='{% static 'nprogress/dist/nprogress.js' %}'></script>
{# Load the tag library #}
{% load bootstrap3 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
<script src="{% bootstrap_jquery_url %}" type="text/javascript"></script>
{% bootstrap_javascript %}


{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}
<script>



    function myFunction(url) {
        var smiles = document.getElementById("smiles").value;

        var num_picks = document.getElementById("num_picks").value;
        document.getElementById("output").innerHTML = '<?xml version="1.0" standalone="no"?>' +
                '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> ' +
                '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="110px" height="110px"> ' +
                '<g> ' +
                '<circle cx="50" cy="0" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="75" cy="6.6987298" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="93.3012702" cy="25" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="100" cy="50" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="93.3012702" cy="75" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="75" cy="93.3012702" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="50" cy="100" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="25" cy="93.3012702" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="6.6987298" cy="75" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="0" cy="50" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="6.6987298" cy="25" r="5" transform="translate(5 5)"/> ' +
                '<circle cx="25" cy="6.6987298" r="5" transform="translate(5 5)"/> ' +
                '<animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 55 55" to="360 55 55" dur="3s" repeatCount="indefinite" /> ' +
                '</g> ' +
                '</svg>;'
        $.get(url, {smiles: smiles, num_picks: num_picks, return: "svg"},
                function (data) {
                    document.getElementById("output").innerHTML = data;
                });
        $.get("/viewer/mol_view", {smiles: smiles, return: "svg"},
        function (data) {
            document.getElementById("query_mol").innerHTML = data;
        });

    }
</script>


<div class="row">
        <div class="col-12">
            </div>

</div>
<div class="row">
    <div class="col-xs-0 col-md-0 col-lg-1"></div>
    <div class="col-xs-6 col-md-3">
        <label for="smiles">Smiles:</label>
        <input type="text" placeholder="O=C(COC=1C=CC=CC1)NC2CCCCC2" class="form-control" id="smiles">
        <label for="num_picks">Number of picks:</label>
        <input type="text" class="form-control" id="num_picks">
        {% buttons %}
        <button onclick="myFunction('/network/full_graph/')" class="btn btn-primary">
          {% bootstrap_icon "eye-open" %} Full Graph
        </button>
            <button onclick="myFunction('/network/pick_mols/')" class="btn btn-primary">
          {% bootstrap_icon "star" %} Pick Mols
        </button>
            <button onclick="myFunction('/network/query_db/')" class="btn btn-primary">
          {% bootstrap_icon "star" %} Query Db
        </button>
        {% endbuttons %}
    <div id="query_mol">

    </div>
    </div>
    <div class="col-xs-6 col-md-3" style="max-width: 100%; max-height: 100%" id="output">

    </div>
</div>