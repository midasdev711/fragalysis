{% load static %}
<script type="text/javascript" src='{% static 'nprogress/nprogress.js' %}'></script>
<script type="text/javascript" src='{% static '@shopify/draggable/lib/draggable.bundle.js' %}'></script>

<link rel='stylesheet' href='{% static 'nprogress/nprogress.css' %}'/>
{# Load the tag library #}
{% load bootstrap3 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
<script src="{% bootstrap_jquery_url %}" type="text/javascript"></script>
{% bootstrap_javascript %}


{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}
<script>



    function myFunction(url) {
        NProgress.start();
        var smiles = document.getElementById("smiles").value;
        var num_picks = document.getElementById("num_picks").value;
        $.get(url, {smiles: smiles, num_picks: num_picks, return: "svg"},
                function (data) {
                    document.getElementById("output").innerHTML = data;
                    NProgress.done();
                });
        $.get("/viewer/mol_view", {smiles: smiles, return: "svg"},
        function (data) {
            document.getElementById("query_mol").innerHTML = data;
        });

    }
</script>


<div class="row">
        <div class="col-12">
            </div>

</div>
<div class="row">
    <div class="col-xs-0 col-md-0 col-lg-1"></div>
    <div class="col-xs-6 col-md-3">
        <label for="smiles">Smiles:</label>
        <input type="text" placeholder="O=C(COC=1C=CC=CC1)NC2CCCCC2" class="form-control" id="smiles">
        <label for="num_picks">Number of picks:</label>
        <input type="text" class="form-control" id="num_picks">
        {% buttons %}
        <button onclick="myFunction('/network/full_graph/')" class="btn btn-primary">
          {% bootstrap_icon "eye-open" %} Full Graph
        </button>
            <button onclick="myFunction('/network/pick_mols/')" class="btn btn-primary">
          {% bootstrap_icon "star" %} Pick Mols
        </button>
            <button onclick="myFunction('/network/query_db/')" class="btn btn-primary">
          {% bootstrap_icon "star" %} Query Db
        </button>
        {% endbuttons %}
    <div id="query_mol">

    </div>
    </div>
    <div class="col-xs-6 col-md-3" style="max-width: 100%; max-height: 100%" id="output">

    </div>
</div>